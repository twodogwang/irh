<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name=viewport content='width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no'>
    <title>忘记密码</title>
    <link rel="stylesheet" href="css/ydui.rem1.1.3.css">
    <link rel="stylesheet" href="css/element-ui.css">
    <link rel="stylesheet" href="css/common.css" media="screen">
    <!-- <link rel="stylesheet" href="css/zh.css" media="screen"> -->
  </head>
    <body>

        <div id="app" v-cloak>
          <section class="layout">

              <du_header href="login.html" tit="忘记密码">
                <aa href="sign_in.html" style="font-size: .32rem">注册新账号</aa>
              </du_header>

              <div class="layout_body p40">
                <div class="login_main">
                  <div class="h20"></div>
                  <div class="btn_group">
                    <label><i class='iconfont icon-label_wo'></i> 用户名</label>
                    <yd-input slot="right" required v-model="my.sLoginName" max="20" placeholder="请输入用户名"></yd-input>
                  </div>
                  <div class="h20"></div>
                  
                  <div class="btn_wide" @click="login">找回密码</div>
                </div>
              </div>
          </section>
        </div>
    </body>
</html>

<script src="plugins/vue2.5.9.js"></script>
<script src="plugins/axios.min.js"></script>
<script src="plugins/ydui1.1.3.js"></script>
<script src="plugins/ydui.flexible.js"></script>
<script src="plugins/ele2.0.8.js"></script>
<script src="plugins/moment-with-locales.min.js"></script>
<script src="plugins/lodash.min.js"></script>
<script src="js/fetch.js"></script>
<script src="js/common.js"></script>
<script src="js/du.js"></script>
<script>

var vm = new Vue({
  mixins: [mixin_common],
  el: '#app',
  mounted:function () {},
  methods:{
    login:function () {
      var _this = this;
      post( "/OE/Common/FindPasswordChk",this.my )
      .then(
          function (res) {
            _this.$dialog.toast({
              mes: res,
              icon: 'success',
              timeout: 1000,
              callback: function () {
                window.location.href="login.html";
              }
            })
          },
          function (err) {
            _this.$dialog.toast({
              mes: err,
              icon: 'error',
              timeout: 1000})
          });
    }
  },
  data: {
    my:{
      "sLoginName": "ksxy526291"
    }
  }
});

</script>